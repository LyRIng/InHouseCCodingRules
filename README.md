# In-House C Coding Rules at L&R Ing.

This repository provides a main document (**IHCR - In-House C Coding Rules**) that seeks to set a few internal rules for crafting firmware, based on industry standards for C programming of embedded systems, mainly focused on programming the in-house designed [CL2- AVR based](https://www.lyr-ing.com/Embedded/LyRAVR_CyEn.htm), [CL3-STM32F4](https://www.lyr-ing.com/Embedded/LyRCl3%2BM5E_En.htm) boards and [M4/E](https://github.com/LyRIng/PlacaM4-E) 
and  METEO modules using [PSoC-1](https://www.infineon.com/cms/en/product/microcontroller/legacy-microcontroller/legacy-8-bit-16-bit-microcontroller/psoc-1/cy8c29x66/)  architectures at [L&R Ingenieria](https://www.lyringenieria.com.ar/language/en/).  It  takes  as  its  base  the  Barr  C  coding  rules  ([ref3_Barr](https://barrgroup.com/sites/default/files/barr_c_coding_standard_2018.pdf))  and  the  work  from  Kieras 
([ref4_Kieras](http://websites.umich.edu/~eecs381/handouts/CHeaderFileGuidelines.pdf)), but merges other rule sets from Labrosse’s work at Micrium ([ref8_Micrium](https://d1.amobbs.com/bbs_upload782111/files_38/ourdev_630682QLHUQ2.pdf)), Samek ([ref6_Samek](https://www.state-machine.com/doc/AN_QL_Coding_Standard.pdf)), and to a lesser extent Pont (see [ref10_PontEmbC](https://www.safetty.net/publications/embedded-c)  and  [ref11_PontERES2](https://www.safetty.net/publications/the-engineering-of-reliable-embedded-systems-second-edition)). It is not explicitly intended for safety-critical systems as in [ref-MISRA-C](https://www.misra.org.uk/product/misra-c2012-third-edition-first-revision/) or to reach SIL level certification but mainly to enforce healthy programming habits that reduce the possibility of errors and enhances reliability of embedded systems. L&R’s experience shows that in older projects with tight schedules, a great deal of poorly written code managed to get through in field deployments. Newer practices such as static code checking, [TDD](https://pragprog.com/titles/jgade/test-driven-development-for-embedded-c/), agile programming and Continuous Integration (CI) tools are now available to reduce defects on newer programs. The C programming language, even with latest additions from [C99](https://webstore.ansi.org/standards/incits/incitsisoiec98991999r2005) gives a great freedom to programmers, but can make programs unreliable and hard to maintain or upgrade. Legacy code can also be incrementally refactored introducing elements from this document and its references. In the special case of Board CL2 based on AVR/Microchip ATMega1294P, it has has been historically programmed with [CodevisionAVR](http://www.hpinfotech.ro/cvavr-features.html) C compilers v3 or newer, but although the board is not strictly Arduino-hardware compatible it can use many Arduino-AVR libraries and can be programmed with C++ style [Arduino IDE]() and [Visual Studio Code]() with [PlatformIO](), both using [GNU avr-gcc]() compilers. Therefore, **IHCR** includes some elements for limited C++ support mainly taken from Miro Samek's work ([ref6_Samek](https://www.state-machine.com/doc/AN_QL_Coding_Standard.pdf)).  
<br/>
<br/>
**Download [IHCR PDF](https://raw.githubusercontent.com/LyRIng/InHouseCCodingRules/master/InHouseCodingRules/InHouseC-CodingRules-v02-2022e.pdf)** version 2.e (upd. 12.02.2022)
<br/>


## Additional references
See **/Legacy Base Rules** directory for additional references:
* Spanish Explanation of Kieras Rules (R.Oliva, 2017) [RefA](https://raw.githubusercontent.com/LyRIng/InHouseCCodingRules/master/LegacyBaseRules/LyR-Sp-Update2017_Guia+Headers.pdf)
* Infography on Kieras Rules (R.Oliva, 2021) [RefB](https://raw.githubusercontent.com/LyRIng/InHouseCCodingRules/master/LegacyBaseRules/LyR-Sp-KIERASRULES_2021b.pdf)


